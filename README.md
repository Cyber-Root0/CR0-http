<div data-message-author-role="assistant" data-message-id="809e2818-358a-41af-a741-38e4ae2ab73e" dir="auto" class="min-h-[20px] text-message flex flex-col items-start gap-3 whitespace-pre-wrap break-words [.text-message+&amp;]:mt-5 overflow-x-auto"><div class="markdown prose w-full break-words dark:prose-invert light"><hr><h1>CR0 HTTP Client</h1><p>O CR0 HTTP Client é uma biblioteca para realizar requisições HTTP de forma simples e prática. Ele oferece uma interface fácil de usar para fazer requisições HTTP com opções personalizáveis.</p><h2>Instalação</h2><p>Você pode instalar esta biblioteca via Composer. Execute o seguinte comando:</p><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>bash</span><span class="" data-state="closed"><button class="flex gap-1 items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.5C10.8954 3.5 10 4.39543 10 5.5H14C14 4.39543 13.1046 3.5 12 3.5ZM8.53513 3.5C9.22675 2.3044 10.5194 1.5 12 1.5C13.4806 1.5 14.7733 2.3044 15.4649 3.5H17.25C18.9069 3.5 20.25 4.84315 20.25 6.5V18.5C20.25 20.1569 19.1569 21.5 17.25 21.5H6.75C5.09315 21.5 3.75 20.1569 3.75 18.5V6.5C3.75 4.84315 5.09315 3.5 6.75 3.5H8.53513ZM8 5.5H6.75C6.19772 5.5 5.75 5.94772 5.75 6.5V18.5C5.75 19.0523 6.19772 19.5 6.75 19.5H17.25C18.0523 19.5 18.25 19.0523 18.25 18.5V6.5C18.25 5.94772 17.8023 5.5 17.25 5.5H16C16 6.60457 15.1046 7.5 14 7.5H10C8.89543 7.5 8 6.60457 8 5.5Z" fill="currentColor"></path></svg>Copy code</button></span></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-bash">composer require cr0/http-client
</code></div></div></pre><h2>Uso</h2><h3>Uso Básico</h3><p>Para começar a usar o CR0 HTTP Client, siga estas etapas:</p><ol><li><p><strong>Instancie o Cliente</strong>: Crie uma instância do cliente passando a URL base do serviço que você deseja acessar.</p></li><li><p><strong>Configure a Requisição</strong>: Defina os cabeçalhos, o método da requisição, os parâmetros de consulta (query) e o corpo da requisição conforme necessário.</p></li><li><p><strong>Envie a Requisição</strong>: Use o método <code>send()</code> para enviar a requisição para o endpoint desejado.</p></li><li><p><strong>Obtenha a Resposta</strong>: A resposta será retornada como um objeto <code>HttpResponse</code>, do qual você pode extrair o corpo, os cabeçalhos e o código de status.</p></li></ol><p>Aqui está um exemplo de uso básico:</p><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>php</span><span class="" data-state="closed"><button class="flex gap-1 items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.5C10.8954 3.5 10 4.39543 10 5.5H14C14 4.39543 13.1046 3.5 12 3.5ZM8.53513 3.5C9.22675 2.3044 10.5194 1.5 12 1.5C13.4806 1.5 14.7733 2.3044 15.4649 3.5H17.25C18.9069 3.5 20.25 4.84315 20.25 6.5V18.5C20.25 20.1569 19.1569 21.5 17.25 21.5H6.75C5.09315 21.5 3.75 20.1569 3.75 18.5V6.5C3.75 4.84315 5.09315 3.5 6.75 3.5H8.53513ZM8 5.5H6.75C6.19772 5.5 5.75 5.94772 5.75 6.5V18.5C5.75 19.0523 6.19772 19.5 6.75 19.5H17.25C18.0523 19.5 18.25 19.0523 18.25 18.5V6.5C18.25 5.94772 17.8023 5.5 17.25 5.5H16C16 6.60457 15.1046 7.5 14 7.5H10C8.89543 7.5 8 6.60457 8 5.5Z" fill="currentColor"></path></svg>Copy code</button></span></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">CR0</span>\<span class="hljs-title">HTTPClient</span>\<span class="hljs-title">Client</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CR0</span>\<span class="hljs-title">HTTPClient</span>\<span class="hljs-title">Api</span>\<span class="hljs-title">HttpResponse</span>;

<span class="hljs-comment">// Instancie o cliente com uma URL base</span>
<span class="hljs-variable">$client</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Client</span>(<span class="hljs-string">'https://api.example.com'</span>);

<span class="hljs-comment">// Defina cabeçalhos</span>
<span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">setHeader</span>([
    <span class="hljs-string">'Authorization'</span> =&gt; <span class="hljs-string">'Bearer SEU_TOKEN_DE_ACESSO'</span>,
    <span class="hljs-string">'Content-Type'</span> =&gt; <span class="hljs-string">'application/json'</span>
]);

<span class="hljs-comment">// Defina o método da requisição</span>
<span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">setMethod</span>(<span class="hljs-string">'POST'</span>);

<span class="hljs-comment">// Adicione parâmetros de consulta (query)</span>
<span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">addQuery</span>(<span class="hljs-string">'page'</span>, <span class="hljs-number">1</span>);

<span class="hljs-comment">// Defina o corpo da requisição</span>
<span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">setBody</span>(<span class="hljs-title function_ invoke__">json_encode</span>([<span class="hljs-string">'key'</span> =&gt; <span class="hljs-string">'value'</span>]));

<span class="hljs-comment">// Envie a requisição</span>
<span class="hljs-variable">$response</span> = <span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">send</span>(<span class="hljs-string">'/endpoint'</span>);

<span class="hljs-comment">// Obtenha o corpo da resposta</span>
<span class="hljs-variable">$body</span> = <span class="hljs-variable">$response</span>-&gt;<span class="hljs-title function_ invoke__">getBody</span>();

<span class="hljs-comment">// Obtenha os cabeçalhos da resposta</span>
<span class="hljs-variable">$headers</span> = <span class="hljs-variable">$response</span>-&gt;<span class="hljs-title function_ invoke__">getHeaders</span>();

<span class="hljs-comment">// Obtenha o código de status da resposta</span>
<span class="hljs-variable">$status</span> = <span class="hljs-variable">$response</span>-&gt;<span class="hljs-title function_ invoke__">getStatusCode</span>();
</code></div></div></pre><h3>Personalização</h3><p>O CR0 HTTP Client oferece várias opções de personalização:</p><ul><li><p><strong>Definindo o Tipo de Requisição</strong>: Você pode especificar o tipo de requisição usando os métodos <code>isJson()</code> ou <code>isForm()</code>.</p></li><li><p><strong>Lidando com Redirecionamentos</strong>: Defina o número máximo de redirecionamentos permitidos usando o método <code>setMaxRedirect()</code>.</p></li><li><p><strong>Definindo Timeouts</strong>: Você pode definir timeouts de requisição usando o método <code>setTimeout()</code>.</p></li></ul><p>Aqui está um exemplo de como usar essas opções:</p><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>php</span><span class="" data-state="closed"><button class="flex gap-1 items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.5C10.8954 3.5 10 4.39543 10 5.5H14C14 4.39543 13.1046 3.5 12 3.5ZM8.53513 3.5C9.22675 2.3044 10.5194 1.5 12 1.5C13.4806 1.5 14.7733 2.3044 15.4649 3.5H17.25C18.9069 3.5 20.25 4.84315 20.25 6.5V18.5C20.25 20.1569 19.1569 21.5 17.25 21.5H6.75C5.09315 21.5 3.75 20.1569 3.75 18.5V6.5C3.75 4.84315 5.09315 3.5 6.75 3.5H8.53513ZM8 5.5H6.75C6.19772 5.5 5.75 5.94772 5.75 6.5V18.5C5.75 19.0523 6.19772 19.5 6.75 19.5H17.25C18.0523 19.5 18.25 19.0523 18.25 18.5V6.5C18.25 5.94772 17.8023 5.5 17.25 5.5H16C16 6.60457 15.1046 7.5 14 7.5H10C8.89543 7.5 8 6.60457 8 5.5Z" fill="currentColor"></path></svg>Copy code</button></span></div><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-php"><span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">isJson</span>(); <span class="hljs-comment">// Define o tipo de requisição para JSON</span>
<span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">setMaxRedirect</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// Permite no máximo 3 redirecionamentos</span>
<span class="hljs-variable">$client</span>-&gt;<span class="hljs-title function_ invoke__">setTimeout</span>(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>); <span class="hljs-comment">// Define o timeout e o timeout expirado para 30 segundos cada</span>
</code></div></div></pre><h2>Contribuição</h2><p>Contribuições são bem-vindas! Se você encontrou um bug, tem uma sugestão ou deseja adicionar uma nova funcionalidade, sinta-se à vontade para abrir uma issue ou enviar um pull request.</p><h2>Licença</h2><p>Esta biblioteca é licenciada sob a Licença MIT. Você tem permissão para usar, modificar e distribuir livremente.</p><hr><p>Este README fornece uma visão geral detalhada da biblioteca CR0 HTTP Client, incluindo instruções detalhadas de uso, opções de personalização, informações de contribuição e informações de licenciamento. Sinta-se à vontade para expandir com mais exemplos ou informações conforme necessário.</p></div></div>